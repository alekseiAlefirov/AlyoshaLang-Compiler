не нужны ли констрэйнты связанного выражения?

копирование возвращаемого значения перед закрытием scope

копирование рекурсивного блока и порядок функций в нём